<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>文宏</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Premium Bootstrap v5.1.3 Landing Page Template" />
    <meta name="keywords" content="bootstrap v5.1.3, premium, marketing, multipurpose" />
    <meta content="Themesdesign" name="author" />
    <!-- Bootstrap css -->
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css" type="text/css" />
    <!-- Custom css -->
    <link rel="stylesheet" href="/assets/css/style.min.css" type="text/css" />
</head>
<body>
    <div class="authentication-bg min-vh-100">
        <div class="container">
            <div class="d-flex flex-column min-vh-100 px-3 pt-4">
                <div class="row justify-content-center my-auto">
                    <div class="col-md-8 col-lg-6 col-xl-4">
                        <div class="py-5">
                            <div class="text-center">
                                <div class="mb-4 pb-4">
                                    <a href="index-1.html" class="d-block auth-logo">
                                        <img style="height:50px" src="/img/logo_4.png" alt="" height="23">
                                    </a>
                                </div>
                                <div class="mb-4 pb-2">
                                    <h5 class="text-white">管理員登入</h5>
                                </div>
                           </div>
                            <form class="auth-form text-white">
                                <div class="mb-3">
                                    <label class="form-label" >使用者名稱</label>
                                    <input style="height: 45px" type="text" class="form-control" id="username" placeholder="使用者名稱">
                                </div>
                                <div class="mb-3">
                                    <label class="form-label" for="password">密碼</label>
                                    <input style="height: 45px" type="password" class="form-control" id="password"
                                        placeholder="密碼">
                                </div>
                                <br>
                                <div class="mt-3">
                                    <button type="button" onclick="adminlogin()" class="btn btn-primary w-100">登入</button>
                                </div>
                            </form><!-- end form -->
                        </div>
                    </div><!-- end col -->
                </div><!-- end row -->
            </div>
        </div><!-- end container -->
    </div>
    <!-- end authentication section -->
    <!-- Bootstrap Js -->
    <script src="/assets/js/jquery.js"></script>
    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js"></script>
    <script>
        document.addEventListener('keydown', test);
        function test(){
            if(event.keyCode==13){
                axios.post("/myadmin/login/",{
                    'username':$('#username').val(),
                    'password':$('#password').val()
                }).then(res=>{
                    if(res.data.errno == 0){
                        swal({
                            'title':'登入成功',
                            'text':'正在為您導向主畫面',
                            'button':false,
                            'icon':'success',
                            'timer':1500,
                        })
                        setTimeout(()=>{
                            location.href = '/myadmin/'
                        },1500)
                    }else{
                        swal({
                            'title':'登入失敗',
                            'text':'不符合管理員身份或帳號不存在',
                            'button':['確認'],
                            'icon':'error'
                        })
                    }
                })
            }
        }
        function adminlogin(){
            axios.post("/myadmin/login/",{
                'username':$('#username').val(),
                'password':$('#password').val()
            }).then(res=>{
                if(res.data.errno == 0){
                    swal({
                        'title':'登入成功',
                        'text':'正在為您導向主畫面',
                        'button':false,
                        'icon':'success',
                        'timer':1500,
                    })
                    setTimeout(()=>{
                        location.href = '/myadmin/'
                    },1500)
                }else{
                    swal({
                        'title':'登入失敗',
                        'text':'不符合管理員身份或帳號不存在',
                        'button':['確認'],
                        'icon':'error'
                    })
                }
            })
        }
    </script>
</body>
</html>